# 前端测试(v0.0.1)

在规定的条件下对程序进行测试，以发现程序错误，衡量软件质量。

软件测试强调测试、开发同步进行，甚至是测试先行，从需求评审阶段就考虑好软件测试方案，随后才进行技术方案评审、开发编码、单元测试、集成测试、系统测试、回归测试、验收测试等。

- 工程师自己负责的是单元测试

- 测试工程师负责的是集成测试、系统测试（E2E）

## 测试的种类

- 单元测试：主要关注的是单个模块
- 集成测试（白盒）：主要关注的是多个模块之间的关系和正确性，模块集成起来是不是还可以正常工作，模块间的数据会不会丢失等等.
- 冒烟测试：基本功能的验证内容。
- e2e测试（黑盒）：更多的是从用户角度来衡量产品质量. 它可以是用户接受度测试，或者说功能测试/黑盒测试.

## 开发模式

- TDD(Test-driven development)：面向测试驱动开发
- BDD(Behavior-driven development)：面向行为驱动开发

### TDD

TDD的思想是：先编写测试用例，再快速开发代码，然后在测试用例的保证下，可以方便安全地进行代码重构，提升应用质量。

**优点：**

- 目标明确、架构分层清晰
- 可以保证开发代码不偏离需求。每个阶段持续测试

**缺点：**

- 技术方案需要先评审结束、架构需要提前搭建好。
- 假如需求变动，则前面步骤需要重新执行，灵活性较差。
- 测试业务代码时，单元测试全部通过了，也不能保证程序流程正确。

**使用场景**：

- 前端工具库的开发
- 前端组件库的开发

### BDD

BDD的思想是，先编写好代码，在编写测试用例。BDD不关注单一的函数或组件，主要关注的是业务的流程是否正确。

**优点：**

- 开发速度快

- 能够保证业务流程的正确性

**缺点：**

- 在前端集成测试中，需要将组件全部渲染出来，测试速度比单元测试要慢。
- 代码覆盖率不容易达到100%

## 测试在前端中的应用

### 单元测试

**场景**

- 工具函数测试
- 组件测试

**常用工具**

- jest
- mocha + chai

### 接口测试

**场景**

- 测试后台返回的接口是否符合预期
  - 方案：设置一个定时器，没隔一段时间去调用接口，看接口返回的结果是否正确
- 在后台没有提供数据之前，mock假数据用于开发

**常用工具**

- jest
- mocha + chai

### 设计稿测试

**场景**

- 对比设计稿和网站的还原度是否一致

**常用工具**

- backstop.js

### **集成测试**

**场景：**

- 测试业务的流程是否符合预期

**常用工具：**

- jest

### E2E测试：

**常用工具：**

- Cypress
- Selenium
- nightWatch
- Rize
- ...